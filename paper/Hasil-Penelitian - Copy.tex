\chapter{HASIL PENELITIAN DAN PEMBAHASAN}
\label{chap:hasil}

\section{Pendahuluan}
\label{sec:pendahuluan-hasil}

Bab ini menyajikan hasil penelitian dari implementasi XGBoost dengan pendekatan Explainable AI untuk prediksi biaya pengobatan pasien. Penelitian ini menggunakan dataset Kaggle Insurance Cost yang berisi 1.338 record pasien dengan 7 variabel (6 prediktor dan 1 target). Bab ini akan membahas hasil analisis eksplorasi data (EDA), temuan penelitian, dan analisis mendalam terhadap pola-pola yang ditemukan dalam data.

Presentasi hasil penelitian dalam bab ini mengikuti alur sistematis, dimulai dari karakteristik dataset, analisis variabel target (biaya pengobatan), evaluasi fitur-fitur prediktor, hingga identifikasi interaksi antar variabel yang menjadi dasar untuk pengembangan model XGBoost pada fase selanjutnya.

\section{Temuan Penelitian}
\label{sec:temuan-penelitian}

\subsection{Karakteristik Dataset}
\label{subsec:karakteristik-dataset}

Dataset yang digunakan dalam penelitian ini memiliki karakteristik sebagai berikut:

\begin{itemize}
    \item \textbf{Ukuran dataset}: 1.338 record dengan 7 kolom (6 fitur prediktor + 1 target)
    \item \textbf{Variabel prediktor}: age, sex, bmi, children, smoker, region
    \item \textbf{Variabel target}: charges (biaya pengobatan dalam USD)
    \item \textbf{Missing values}: Minimal, hanya 3 nilai hilang pada variabel BMI (0,22\%)
    \item \textbf{Tipe data}: Dataset campuran dengan fitur numerik dan kategorikal
\end{itemize}

\begin{table}[H]
\centering
\caption{Ringkasan Karakteristik Dataset Insurance Cost}
\label{tab:dataset-summary}
\begin{tabular}{|l|c|c|c|c|}
\hline
\textbf{Variabel} & \textbf{Tipe} & \textbf{Non-Null} & \textbf{Min} & \textbf{Max} \\
\hline
age & int64 & 1338 & 18 & 64 \\
sex & object & 1338 & - & - \\
bmi & float64 & 1335 & 15,96 & 53,13 \\
children & int64 & 1338 & 0 & 5 \\
smoker & object & 1338 & - & - \\
region & object & 1338 & - & - \\
charges & float64 & 1338 & 1.121,87 & 63.770,43 \\
\hline
\end{tabular}
\end{table}

\subsection{Analisis Distribusi Demografis}
\label{subsec:distribusi-demografis}

Analisis distribusi demografis menunjukkan keseimbangan yang baik dalam dataset:

\subsubsection{Distribusi Jenis Kelamin}
\begin{itemize}
    \item Laki-laki: 676 (50,52\%)
    \item Perempuan: 662 (49,48\%)
\end{itemize}

\subsubsection{Distribusi Status Merokok}
\begin{itemize}
    \item Non-perokok: 1.064 (79,52\%)
    \item Perokok: 274 (20,48\%)
\end{itemize}

\subsubsection{Distribusi Regional}
\begin{itemize}
    \item Southeast: 364 (27,20\%)
    \item Southwest: 325 (24,29\%)
    \item Northwest: 325 (24,29\%)
    \item Northeast: 324 (24,22\%)
\end{itemize}

\subsection{Analisis Variabel Target (Charges)}
\label{subsec:analisis-target}

Variabel target (charges) menunjukkan karakteristik distribusi yang signifikan:

\begin{table}[H]
\centering
\caption{Statistik Deskriptif Variabel Charges}
\label{tab:charges-stats}
\begin{tabular}{|l|r|}
\hline
\textbf{Statistik} & \textbf{Nilai (USD)} \\
\hline
Count & 1.338 \\
Mean & 13.270,42 \\
Std & 12.110,01 \\
Min & 1.121,87 \\
25\% & 4.740,29 \\
50\% (Median) & 9.382,03 \\
75\% & 16.639,91 \\
Max & 63.770,43 \\
\hline
Skewness & 1,516 \\
Kurtosis & 1,606 \\
IQR & 11.899,63 \\
\hline
\end{tabular}
\end{table}

Temuan penting dari analisis variabel target:
\begin{enumerate}
    \item \textbf{Distribusi Right-Skewed}: Nilai skewness sebesar 1,516 menunjukkan distribusi sangat miring ke kanan
    \item \textbf{Perbedaan Mean-Median}: Mean (\$13.270) lebih besar dari median (\$9.382), mengkonfirmasi adanya outliers tinggi
    \item \textbf{Variabilitas Tinggi}: Range yang sangat luas (\$1.121 - \$63.770) menunjukkan diversitas biaya yang ekstrim
    \item \textbf{Transformasi Logaritmik}: Mengurangi skewness dari 1,516 menjadi -0,090, menghasilkan distribusi yang mendekati normal
\end{enumerate}

\subsection{Analisis Fitur Numerik}
\label{subsec:analisis-numerik}

\begin{table}[H]
\centering
\caption{Statistik Deskriptif Fitur Numerik}
\label{tab:numeric-stats}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Statistik} & \textbf{Age} & \textbf{BMI} & \textbf{Children} \\
\hline
Count & 1.338 & 1.335 & 1.338 \\
Mean & 39,21 & 30,66 & 1,09 \\
Std & 14,05 & 6,10 & 1,21 \\
Min & 18 & 15,96 & 0 \\
Max & 64 & 53,13 & 5 \\
Skewness & 0,056 & 0,285 & 0,938 \\
Range & 46 & 37,17 & 5 \\
\hline
\end{tabular}
\end{table}

Karakteristik fitur numerik:
\begin{itemize}
    \item \textbf{Age}: Distribusi hampir normal (skewness 0,056), rentang 18-64 tahun
    \item \textbf{BMI}: Distribusi sedikit right-skewed (skewness 0,285), rata-rata 30,66 (kategori overweight)
    \item \textbf{Children}: Distribusi right-skewed (skewness 0,938), mayoritas pasien memiliki 0-2 anak
\end{itemize}

\section{Analisis Data}
\label{sec:analisis-data}

\subsection{Analisis Korelasi}
\label{subsec:analisis-korelasi}

Analisis korelasi mengungkap hierarki kepentingan fitur terhadap biaya pengobatan:

\begin{table}[H]
\centering
\caption{Korelasi Absolut Fitur dengan Charges (Diurutkan)}
\label{tab:correlation-ranking}
\begin{tabular}{|l|r|}
\hline
\textbf{Fitur} & \textbf{Korelasi Absolut} \\
\hline
Smoker & 0,787 \\
Age & 0,299 \\
BMI & 0,198 \\
Children & 0,068 \\
Sex & 0,057 \\
Region & 0,006 \\
\hline
\end{tabular}
\end{table}

\subsection{Analisis Dampak Fitur Kategorikal}
\label{subsec:dampak-kategorikal}

\subsubsection{Dampak Status Merokok}
Temuan paling signifikan adalah dominasi absolut status merokok sebagai prediktor biaya:

\begin{table}[H]
\centering
\caption{Perbandingan Biaya berdasarkan Status Merokok}
\label{tab:smoking-impact}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Status} & \textbf{Rata-rata (USD)} & \textbf{Median (USD)} & \textbf{Persentase Populasi} \\
\hline
Perokok & 32.050,23 & 34.456,35 & 20,48\% \\
Non-perokok & 8.434,27 & 7.345,41 & 79,52\% \\
\hline
\textbf{Selisih} & \textbf{23.615,96} & \textbf{27.110,94} & - \\
\textbf{Persentase} & \textbf{+280\%} & \textbf{+369\%} & - \\
\hline
\end{tabular}
\end{table}

\subsubsection{Dampak Jenis Kelamin}
\begin{table}[H]
\centering
\caption{Perbandingan Biaya berdasarkan Jenis Kelamin}
\label{tab:gender-impact}
\begin{tabular}{|l|r|r|}
\hline
\textbf{Jenis Kelamin} & \textbf{Rata-rata (USD)} & \textbf{Perbedaan dari Mean} \\
\hline
Laki-laki & 13.956,75 & +5,2\% \\
Perempuan & 12.569,58 & -5,3\% \\
\hline
\end{tabular}
\end{table}

\subsubsection{Dampak Regional}
\begin{table}[H]
\centering
\caption{Perbandingan Biaya berdasarkan Region}
\label{tab:region-impact}
\begin{tabular}{|l|r|r|}
\hline
\textbf{Region} & \textbf{Rata-rata (USD)} & \textbf{Perbedaan dari Mean} \\
\hline
Southeast & 14.735,41 & +11,0\% \\
Northeast & 13.406,38 & +1,0\% \\
Northwest & 12.417,58 & -6,4\% \\
Southwest & 12.346,94 & -7,0\% \\
\hline
\end{tabular}
\end{table}

\subsection{Analisis Interaksi Fitur}
\label{subsec:interaksi-fitur}

\subsubsection{Interaksi BMI × Status Merokok}
Temuan kritis menunjukkan efek multiplikatif antara BMI dan status merokok:

\begin{table}[H]
\centering
\caption{Rata-rata Biaya berdasarkan Kategori BMI dan Status Merokok}
\label{tab:bmi-smoking-interaction}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Kategori BMI} & \textbf{Non-perokok (USD)} & \textbf{Perokok (USD)} & \textbf{Selisih (\%)} \\
\hline
Normal & 7.685,66 & 19.942,22 & +159\% \\
Overweight & 8.278,17 & 22.495,87 & +172\% \\
Obese & 8.837,41 & 41.557,99 & +370\% \\
Underweight & 5.532,99 & 18.809,82 & +240\% \\
\hline
\end{tabular}
\end{table}

Temuan penting:
\begin{enumerate}
    \item Perokok obese memiliki biaya tertinggi (\$41.558)
    \item Efek smoking pada kategori obese adalah yang paling ekstrim (+370\%)
    \item Kombinasi obesitas dan merokok menciptakan profil risiko tertinggi
\end{enumerate}

\subsection{Analisis Outlier}
\label{subsec:analisis-outlier}

Menggunakan metode IQR (Interquartile Range) untuk identifikasi outlier:

\begin{table}[H]
\centering
\caption{Hasil Analisis Outlier}
\label{tab:outlier-analysis}
\begin{tabular}{|l|r|r|}
\hline
\textbf{Variabel} & \textbf{Jumlah Outlier} & \textbf{Persentase} \\
\hline
Charges & 139 & 10,4\% \\
BMI & 9 & 0,7\% \\
Age & 0 & 0,0\% \\
\hline
\end{tabular}
\end{table}

\subsubsection{Analisis Kasus Biaya Tinggi}
Analisis terhadap 5\% kasus dengan biaya tertinggi (threshold \$41.181,83):

\begin{itemize}
    \item \textbf{Jumlah kasus}: 67 dari 1.338 (5\%)
    \item \textbf{Karakteristik dominan}: 100\% adalah perokok (67/67)
    \item \textbf{Implikasi}: Semua kasus biaya ekstrim disebabkan oleh status merokok
\end{itemize}

Top 5 kasus biaya tertinggi:
\begin{table}[H]
\centering
\caption{Lima Kasus Biaya Tertinggi}
\label{tab:top-charges}
\begin{tabular}{|r|l|r|r|l|l|r|}
\hline
\textbf{Age} & \textbf{Sex} & \textbf{BMI} & \textbf{Children} & \textbf{Smoker} & \textbf{Region} & \textbf{Charges} \\
\hline
54 & Female & 47,41 & 0 & Yes & Southeast & 63.770,43 \\
45 & Male & 30,36 & 0 & Yes & Southeast & 62.592,87 \\
52 & Male & 34,49 & 3 & Yes & Northwest & 60.021,40 \\
31 & Female & 38,10 & 1 & Yes & Northeast & 58.571,07 \\
33 & Female & 35,53 & 0 & Yes & Northwest & 55.135,40 \\
\hline
\end{tabular}
\end{table}

\subsection{Feature Engineering}
\label{subsec:feature-engineering}

Berdasarkan temuan EDA, dilakukan feature engineering untuk persiapan modeling:

\begin{table}[H]
\centering
\caption{Fitur Baru Hasil Feature Engineering}
\label{tab:new-features}
\begin{tabular}{|l|l|l|}
\hline
\textbf{Fitur Baru} & \textbf{Deskripsi} & \textbf{Tujuan} \\
\hline
age\_group & Kategori usia: 18-29, 30-39, 40-49, 50-64 & Capture non-linear age effects \\
bmi\_category & Normal, Overweight, Obese, Underweight & BMI risk stratification \\
high\_risk & BMI > 30 AND smoker = yes & Identify highest cost segment \\
family\_size & children + 1 & Alternative to children count \\
log\_charges & log(1 + charges) & Normalize target distribution \\
\hline
\end{tabular}
\end{table}

\section{Pembahasan}
\label{sec:pembahasan}

\subsection{Implikasi Temuan untuk Prediksi Biaya Pengobatan}
\label{subsec:implikasi-temuan}

\subsubsection{Dominasi Status Merokok sebagai Prediktor}
Temuan paling signifikan adalah korelasi sangat kuat antara status merokok dan biaya pengobatan (r=0,787). Hal ini konsisten dengan literatur medis yang menunjukkan bahwa merokok merupakan faktor risiko utama untuk berbagai kondisi kesehatan serius seperti penyakit kardiovaskular, kanker, dan penyakit paru-paru kronis \cite{world_health_organization_tobacco_2021}.

Perbedaan biaya sebesar 280\% antara perokok dan non-perokok mencerminkan:
\begin{enumerate}
    \item \textbf{Biaya pengobatan langsung}: Treatment untuk penyakit terkait merokok umumnya kompleks dan mahal
    \item \textbf{Frekuensi perawatan}: Perokok cenderung memerlukan perawatan medis lebih sering
    \item \textbf{Komplikasi}: Kondisi comorbid yang meningkatkan kompleksitas pengobatan
\end{enumerate}

\subsubsection{Efek Interaksi BMI × Merokok}
Interaksi sinergis antara obesitas dan merokok menghasilkan peningkatan biaya yang tidak proporsional. Perokok obese memiliki biaya 370\% lebih tinggi dibanding non-perokok obese, menunjukkan efek compound risk yang perlu dipertimbangkan dalam modeling.

\subsubsection{Keterbatasan Prediktor Demografis}
Temuan bahwa jenis kelamin (r=0,057) dan region (r=0,006) memiliki korelasi sangat lemah dengan biaya menunjukkan bahwa:
\begin{enumerate}
    \item Faktor perilaku (merokok) lebih dominan dari faktor demografis
    \item Sistem healthcare di dataset ini relatif equitable across demographics
    \item Model dapat fokus pada faktor risiko kesehatan daripada karakteristik demografis
\end{enumerate}

\subsection{Strategi Modeling untuk Phase 2}
\label{subsec:strategi-modeling}

\subsubsection{Tantangan Utama}
\begin{enumerate}
    \item \textbf{Class Imbalance}: 20\% perokok vs 80\% non-perokok
    \item \textbf{Skewed Distribution}: Target variable sangat right-skewed
    \item \textbf{Outlier Dominance}: Outliers driven by smoking status
\end{enumerate}

\subsubsection{Keuntungan untuk XGBoost}
\begin{enumerate}
    \item \textbf{Clear Feature Hierarchy}: Smoking sebagai dominant predictor
    \item \textbf{Non-linear Interactions}: BMI × smoking interactions
    \item \textbf{Mixed Data Types}: XGBoost native support untuk categorical features
    \item \textbf{Missing Value Handling}: Built-in capability untuk 3 missing BMI values
\end{enumerate}

\subsubsection{Rekomendasi Preprocessing}
\begin{enumerate}
    \item \textbf{Log transformation} untuk target variable
    \item \textbf{Feature engineering} untuk capture interactions
    \item \textbf{Stratified sampling} untuk maintain class balance
    \item \textbf{Careful hyperparameter tuning} untuk handle skewed distribution
\end{enumerate}

\subsection{Implikasi untuk Explainable AI}
\label{subsec:implikasi-xai}

\subsubsection{SHAP Implementation}
Dominasi smoking status akan menghasilkan:
\begin{enumerate}
    \item \textbf{High SHAP values} untuk smoking feature
    \item \textbf{Clear global explanations} karena feature hierarchy yang jelas
    \item \textbf{Consistent local explanations} untuk different patient profiles
\end{enumerate}

\subsubsection{LIME Implementation}
\begin{enumerate}
    \item \textbf{Intuitive explanations} untuk patient-facing applications
    \item \textbf{Fast computation} karena clear feature importance
    \item \textbf{Actionable insights} fokus pada lifestyle factors (smoking, BMI)
\end{enumerate}

\subsubsection{Patient-Centric Framework}
Temuan EDA mendukung pengembangan patient-centric explanations:
\begin{enumerate}
    \item \textbf{Clear messaging}: Smoking cessation sebagai primary intervention
    \item \textbf{Risk stratification}: BMI categories untuk personalized advice
    \item \textbf{Cost awareness}: Quantifiable impact dari lifestyle changes
\end{enumerate}

\subsection{Kontribusi terhadap Literature}
\label{subsec:kontribusi-literature}

Penelitian ini mengkonfirmasi dan memperluas temuan sebelumnya:
\begin{enumerate}
    \item \textbf{Validasi dominasi smoking}: Konsisten dengan medical literature
    \item \textbf{Quantifikasi interaksi}: Efek BMI × smoking interaction
    \item \textbf{XAI readiness}: Dataset characteristics yang mendukung interpretable modeling
\end{enumerate}

\section{Implementasi Model Baseline}
\label{sec:baseline-model}

\subsection{Hasil Model Linear Regression}
\label{subsec:baseline-results}

Sebagai langkah implementasi Algorithm 2 dari metodologi penelitian, model Linear Regression baseline telah diimplementasikan dengan hasil yang mengejutkan dan melampaui ekspektasi:

\subsubsection{Performance Metrics}
\begin{table}[H]
\centering
\caption{Performance Baseline Linear Regression Model}
\label{tab:baseline-performance}
\begin{tabular}{|l|c|c|}
\hline
\textbf{Metric} & \textbf{Training} & \textbf{Test} \\
\hline
R² Score & 0.8697 & \textbf{0.8637} \\
RMSE & \$4,414.08 & \$4,120.52 \\
MAE & \$2,443.69 & \$2,260.53 \\
MAPE & 26.45\% & 26.03\% \\
\hline
\end{tabular}
\end{table}

\textbf{Temuan Kunci}: Model baseline Linear Regression mencapai R² = 0.8637 (86.37\%), yang \textbf{telah melampaui target thesis R² > 0.85} sebelum implementasi XGBoost. Hal ini menunjukkan kualitas feature engineering yang sangat baik dan menetapkan benchmark tinggi untuk XGBoost.

\subsubsection{Feature Importance Analysis}
Analisis koefisien Linear Regression mengkonfirmasi temuan EDA:

\begin{table}[H]
\centering
\caption{Top 5 Feature Importance dari Baseline Model}
\label{tab:baseline-features}
\begin{tabular}{|l|c|c|}
\hline
\textbf{Feature} & \textbf{Coefficient} & \textbf{Interpretation} \\
\hline
high\_risk & 6,353.96 & Obese smokers premium \\
smoker & 5,274.57 & Smoking penalty \\
age & 4,061.43 & Age progression effect \\
age\_group\_40-49 & -602.48 & Middle-age adjustment \\
bmi & 487.47 & BMI linear effect \\
\hline
\end{tabular}
\end{table}

\subsubsection{Validasi Cross-Validation}
5-Fold Cross-Validation menghasilkan R² = 0.8603 (±0.0867), mengkonfirmasi stabilitas model dan generalizability yang baik.

\subsection{Implementasi XGBoost Baseline}
\label{subsec:xgboost-baseline}

Sebagai langkah implementasi Algorithm 3 dari metodologi penelitian, model XGBoost baseline telah diimplementasikan tanpa optimasi hyperparameter untuk menetapkan performa dasar sesuai arahan pembimbing.

\subsubsection{Konfigurasi XGBoost Baseline}
\begin{table}[H]
\centering
\caption{Parameter XGBoost Baseline}
\label{tab:xgboost-baseline-params}
\begin{tabular}{|l|c|l|}
\hline
\textbf{Parameter} & \textbf{Value} & \textbf{Justification} \\
\hline
n\_estimators & 100 & Standard number of trees \\
max\_depth & 6 & Default XGBoost depth \\
learning\_rate & 0.1 & Default learning rate \\
subsample & 0.8 & Slight regularization \\
colsample\_bytree & 0.8 & Feature sampling \\
reg\_alpha & 0 & No L1 regularization \\
reg\_lambda & 1 & Default L2 regularization \\
\hline
\end{tabular}
\end{table}

\subsubsection{Hasil Performa XGBoost Baseline}
\begin{table}[H]
\centering
\caption{Perbandingan Performa: Linear Regression vs XGBoost Baseline}
\label{tab:baseline-comparison}
\begin{tabular}{|l|c|c|c|}
\hline
\textbf{Metric} & \textbf{Linear Regression} & \textbf{XGBoost Baseline} & \textbf{Perubahan} \\
\hline
R² Score & \textbf{0.8637} & 0.8309 & -0.0328 \\
RMSE & \$4,120.52 & \$4,589.52 & +11.4\% \\
MAE & \$2,260.53 & \$2,565.82 & +13.5\% \\
MAPE & 26.03\% & 32.16\% & +6.13pp \\
Training Time & 0.029s & 0.09s & +3x \\
\hline
\end{tabular}
\end{table}

\subsubsection{Analisis Kritis Hasil XGBoost Baseline}

\textbf{Temuan Mengejutkan}: XGBoost baseline menunjukkan performa yang \textbf{lebih rendah} dibanding Linear Regression pada semua metrik utama. Hal ini mengindikasikan beberapa faktor penting:

\begin{enumerate}
    \item \textbf{Overfitting Indication}: Training R² = 0.9747 vs Test R² = 0.8309 menunjukkan gap signifikan yang mengindikasikan overfitting pada data training.

    \item \textbf{Parameter Default Tidak Optimal}: Parameter default XGBoost tidak sesuai untuk karakteristik data insurance cost dengan distribusi yang highly skewed.

    \item \textbf{Kebutuhan Optimasi Hyperparameter}: Hasil ini menegaskan pentingnya hyperparameter tuning untuk mencapai performa optimal XGBoost.

    \item \textbf{Linear Relationship Dominance}: Data menunjukkan bahwa hubungan linear cukup kuat, sehingga kompleksitas tambahan XGBoost tanpa tuning malah merugikan.
\end{enumerate}

\subsubsection{Feature Importance Comparison}
\begin{table}[H]
\centering
\caption{Top 5 Feature Importance: Linear Regression vs XGBoost}
\label{tab:feature-importance-comparison}
\begin{tabular}{|l|l|l|}
\hline
\textbf{Rank} & \textbf{Linear Regression} & \textbf{XGBoost (Gain)} \\
\hline
1 & high\_risk & high\_risk \\
2 & smoker & smoker \\
3 & age & age\_group \\
4 & age\_group\_40-49 & age \\
5 & bmi & bmi \\
\hline
\end{tabular}
\end{table}

\textbf{Konsistensi Feature Importance}: Kedua model menunjukkan konsistensi dalam mengidentifikasi high\_risk dan smoker sebagai predictors utama, mengkonfirmasi validitas temuan EDA.

\subsubsection{Implikasi untuk Hyperparameter Optimization}
\begin{enumerate}
    \item \textbf{Critical Need for Tuning}: Hasil baseline menegaskan bahwa hyperparameter optimization bukan optional melainkan \textbf{essential} untuk XGBoost performance.

    \item \textbf{Regularization Focus}: Perlu fokus pada parameter regularization (reg\_alpha, reg\_lambda, gamma) untuk mengatasi overfitting.

    \item \textbf{Learning Rate Adjustment}: Learning rate mungkin perlu dikurangi untuk learning yang lebih gradual.

    \item \textbf{Tree Complexity}: Max\_depth dan min\_child\_weight perlu disesuaikan untuk data insurance yang relatif kecil.

    \item \textbf{Target Achievement Strategy}: Untuk mencapai target R² > 0.87, diperlukan systematic hyperparameter search dengan fokus pada bias-variance trade-off.
\end{enumerate}

\subsection{Implementasi XGBoost Enhanced Optimization}
\label{subsec:xgboost-enhanced}

Berdasarkan analisis kritis dari hasil XGBoost baseline, dilakukan optimasi enhanced dengan fokus pada feature engineering dan hyperparameter tuning untuk mencapai target performa yang ditetapkan pembimbing.

\subsubsection{Strategi Feature Engineering Lanjutan}
Untuk meningkatkan performa XGBoost, dilakukan penambahan 5 fitur interaksi berdasarkan temuan EDA:

\begin{table}[H]
\centering
\caption{Feature Interactions yang Ditambahkan untuk Enhanced XGBoost}
\label{tab:enhanced-features}
\begin{tabular}{|l|l|l|}
\hline
\textbf{Feature Interaction} & \textbf{Formula} & \textbf{Justification} \\
\hline
smoker\_bmi\_interaction & smoker $\times$ bmi & Capture smoking-BMI synergy \\
smoker\_age\_interaction & smoker $\times$ age & Age-smoking compounding effect \\
high\_risk\_age\_interaction & high\_risk $\times$ age & High-risk aging premium \\
bmi\_children\_interaction & bmi $\times$ children & Family BMI dynamics \\
age\_children\_interaction & age $\times$ children & Parental age factor \\
\hline
\end{tabular}
\end{table}

\subsubsection{Enhanced Hyperparameter Search Strategy}
Implementasi RandomizedSearchCV dengan parameter space yang diperluas:

\begin{table}[H]
\centering
\caption{Parameter Search Space untuk Enhanced Optimization}
\label{tab:enhanced-search-space}
\begin{tabular}{|l|l|l|}
\hline
\textbf{Parameter} & \textbf{Search Range} & \textbf{Optimal Value} \\
\hline
n\_estimators & [300, 500, 700, 1000] & 1000 \\
max\_depth & [3, 4, 5] & 4 \\
learning\_rate & [0.01, 0.05, 0.1, 0.2] & 0.05 \\
subsample & [0.7, 0.8, 0.9] & 0.9 \\
colsample\_bytree & [0.7, 0.8, 0.9] & 0.8 \\
reg\_alpha & [0, 0.1, 0.5, 1.0] & 0.1 \\
reg\_lambda & [1, 1.5, 2.0] & 1.5 \\
\hline
\end{tabular}
\end{table}

\textbf{Search Configuration}: 400 iterations dengan 5-fold cross-validation, menggunakan scoring metric R² untuk optimasi performa prediksi.

\subsubsection{Hasil Enhanced XGBoost Optimization}

\begin{table}[H]
\centering
\caption{Perbandingan Performa: Baseline vs Enhanced XGBoost}
\label{tab:enhanced-performance}
\begin{tabular}{|l|c|c|c|}
\hline
\textbf{Metric} & \textbf{XGBoost Baseline} & \textbf{XGBoost Enhanced} & \textbf{Improvement} \\
\hline
R² Score & 0.8309 & \textbf{0.8618} & +0.0309 \\
RMSE & \$4,589.52 & \$4,145.12 & -9.7\% \\
MAE & \$2,565.82 & \$2,384.88 & -7.0\% \\
MAPE & 32.16\% & 29.21\% & -2.95pp \\
Training R² & 0.9747 & 0.8783 & Better generalization \\
\hline
\end{tabular}
\end{table}

\subsubsection{Analisis Pencapaian Target}

\textbf{Target Pembimbing Tercapai}: Enhanced XGBoost mencapai R² = 0.8618, yang \textbf{memenuhi target pembimbing R² > 0.86} namun masih belum mencapai target thesis R² > 0.87 (masih kurang 0.49\%).

\begin{table}[H]
\centering
\caption{Evaluasi Pencapaian Target}
\label{tab:target-achievement}
\begin{tabular}{|l|c|c|c|}
\hline
\textbf{Target} & \textbf{Threshold} & \textbf{Achieved} & \textbf{Status} \\
\hline
Target Pembimbing & R² > 0.86 & 0.8618 & \textcolor{green}{\textbf{✓ TERCAPAI}} \\
Target Thesis & R² > 0.87 & 0.8618 & \textcolor{orange}{\textbf{⚠ Kurang 0.49\%}} \\
Vs Linear Regression & > 0.8637 & 0.8618 & \textcolor{orange}{\textbf{⚠ Kurang 0.19\%}} \\
\hline
\end{tabular}
\end{table}

\subsubsection{Analisis Overfitting Resolution}
Enhanced optimization berhasil mengatasi masalah overfitting yang signifikan:

\begin{table}[H]
\centering
\caption{Analisis Generalization Performance}
\label{tab:generalization-analysis}
\begin{tabular}{|l|c|c|c|}
\hline
\textbf{Model} & \textbf{Training R²} & \textbf{Test R²} & \textbf{Gap} \\
\hline
XGBoost Baseline & 0.9747 & 0.8309 & \textcolor{red}{0.1438} \\
XGBoost Enhanced & 0.8783 & 0.8618 & \textcolor{green}{0.0165} \\
\hline
\end{tabular}
\end{table}

\textbf{Significant Improvement}: Training-test gap berkurang dari 0.1438 menjadi 0.0165, menunjukkan generalization yang sangat baik.

\subsubsection{Feature Importance Analysis Enhanced Model}
\begin{table}[H]
\centering
\caption{Top 8 Feature Importance Enhanced XGBoost (Gain)}
\label{tab:enhanced-feature-importance}
\begin{tabular}{|l|c|l|}
\hline
\textbf{Feature} & \textbf{Importance (Gain)} & \textbf{Category} \\
\hline
high\_risk & 0.3127 & Engineered Feature \\
smoker\_bmi\_interaction & 0.1892 & Feature Interaction \\
smoker & 0.1234 & Original Feature \\
age & 0.0956 & Original Feature \\
smoker\_age\_interaction & 0.0743 & Feature Interaction \\
bmi & 0.0621 & Original Feature \\
high\_risk\_age\_interaction & 0.0387 & Feature Interaction \\
children & 0.0298 & Original Feature \\
\hline
\end{tabular}
\end{table}

\textbf{Key Insights}:
\begin{enumerate}
    \item \textbf{Feature Interactions Dominance}: 3 dari top 8 features adalah interaction features, membuktikan efektivitas feature engineering.
    \item \textbf{Smoking-BMI Synergy}: smoker\_bmi\_interaction menjadi predictor kedua terpenting (gain = 0.1892).
    \item \textbf{Consistent Hierarchy}: high\_risk tetap menjadi predictor terpenting, mengkonfirmasi validitas temuan EDA.
\end{enumerate}

\subsubsection{Cross-Validation Stability}
Enhanced model menunjukkan stabilitas excellent:
\begin{itemize}
    \item \textbf{CV R² Mean}: 0.8568
    \item \textbf{CV R² Std}: ±0.0089
    \item \textbf{CV Score Range}: 0.8442 - 0.8679
\end{itemize}

\textbf{Interpretation}: Standard deviation yang sangat kecil (0.0089) menunjukkan model yang sangat stabil across different data splits.

\section{Keterbatasan dan Rekomendasi}
\label{sec:keterbatasan}

\subsection{Keterbatasan Penelitian}
\label{subsec:keterbatasan}

\begin{enumerate}
    \item \textbf{Geographical Scope}: Dataset limited ke US healthcare system
    \item \textbf{Temporal Aspect}: Cross-sectional data tanpa longitudinal tracking
    \item \textbf{Feature Completeness}: Absence of detailed medical history
    \item \textbf{Sample Size}: 1,338 records may limit generalizability
\end{enumerate}

\subsection{Rekomendasi untuk Phase Selanjutnya}
\label{subsec:rekomendasi}

\begin{enumerate}
    \item \textbf{Model Selection}: XGBoost optimal untuk dataset characteristics
    \item \textbf{Hyperparameter Focus}: Regularization untuk handle skewed distribution
    \item \textbf{Evaluation Metrics}: Focus pada prediction accuracy untuk high-cost cases
    \item \textbf{XAI Integration}: Dual approach dengan SHAP dan LIME
\end{enumerate}

\section{Kesimpulan Phase 3: XGBoost Implementation \& Optimization}
\label{sec:kesimpulan-phase3}

Hasil implementasi dan optimasi XGBoost mengkonfirmasi temuan EDA dan memberikan insights penting untuk pengembangan model prediksi biaya pengobatan:

\subsection{Temuan Utama Phase 3}
\begin{enumerate}
    \item \textbf{Baseline Performance Challenge}: XGBoost baseline (R² = 0.8309) menunjukkan performa di bawah Linear Regression (R² = 0.8637), membuktikan bahwa hyperparameter optimization adalah \textbf{essential} untuk XGBoost.

    \item \textbf{Enhanced Optimization Success}: Melalui feature engineering dan hyperparameter tuning, Enhanced XGBoost mencapai R² = 0.8618, \textbf{memenuhi target pembimbing (R² > 0.86)} namun masih kurang 0.49\% dari target thesis (R² > 0.87).

    \item \textbf{Feature Interactions Effectiveness}: Penambahan 5 feature interactions (smoker×BMI, smoker×age, dll.) memberikan kontribusi signifikan dengan smoker\_bmi\_interaction menjadi predictor kedua terpenting (gain = 0.1892).

    \item \textbf{Overfitting Resolution}: Training-test gap berhasil dikurangi dari 0.1438 (baseline) menjadi 0.0165 (enhanced), menunjukkan generalization yang excellent.

    \item \textbf{Model Stability}: Cross-validation menunjukkan stabilitas tinggi dengan CV R² = 0.8568 ± 0.0089, mengkonfirmasi reliabilitas model.
\end{enumerate}

\subsection{Perbandingan Evolusi Model}
\begin{table}[H]
\centering
\caption{Ringkasan Evolusi Performa Model}
\label{tab:model-evolution-summary}
\begin{tabular}{|l|c|c|c|}
\hline
\textbf{Model} & \textbf{R² Score} & \textbf{RMSE} & \textbf{Target Status} \\
\hline
Linear Regression Baseline & 0.8637 & \$4,120.52 & ✓ Thesis target \\
XGBoost Baseline & 0.8309 & \$4,589.52 & ❌ Both targets \\
XGBoost Enhanced & 0.8618 & \$4,145.12 & ✓ Professor target \\
\hline
\end{tabular}
\end{table}

\subsection{Implikasi untuk Phase 4: Explainable AI}
\begin{enumerate}
    \item \textbf{Model Readiness}: Enhanced XGBoost dengan R² = 0.8618 dan feature interactions yang kuat siap untuk implementasi SHAP dan LIME.

    \item \textbf{Feature Hierarchy Clarity}: Dominasi high\_risk dan smoker\_bmi\_interaction akan menghasilkan explanations yang konsisten dan interpretable.

    \item \textbf{Patient-Centric Value}: Feature interactions berbasis lifestyle (smoking, BMI) mendukung actionable insights untuk patient empowerment.

    \item \textbf{Methodological Contribution}: Demonstrasi efektivitas feature engineering dalam domain healthcare cost prediction.
\end{enumerate}

\subsection{Kontribusi Akademik}
\begin{enumerate}
    \item \textbf{Empirical Validation}: Mengkonfirmasi pentingnya hyperparameter optimization dalam XGBoost untuk domain healthcare.

    \item \textbf{Feature Engineering Innovation}: Membuktikan efektivitas smoking-BMI interaction dalam prediksi biaya pengobatan.

    \item \textbf{Methodological Framework}: Menyediakan systematic approach untuk optimasi XGBoost pada insurance cost prediction.

    \item \textbf{XAI Preparation}: Menetapkan foundation yang solid untuk implementasi explainable AI dengan model yang stable dan interpretable.
\end{enumerate}

\subsection{Limitations dan Future Work}
\begin{enumerate}
    \item \textbf{Thesis Target Gap}: Masih kurang 0.49\% untuk mencapai R² > 0.87, memberikan ruang untuk further optimization.

    \item \textbf{Linear vs Tree-based Trade-off}: XGBoost enhanced masih 0.19\% di bawah Linear Regression, menunjukkan karakteristik data yang predominantly linear.

    \item \textbf{Computational Complexity}: Trade-off antara model complexity dan interpretability untuk XAI implementation.
\end{enumerate}

Phase 3 berhasil memenuhi target pembimbing dan memberikan foundation yang kuat untuk Phase 4 (Explainable AI Integration), dengan model yang optimized, stable, dan siap untuk interpretability analysis menggunakan SHAP dan LIME.

%% Bibliography akan ditambahkan setelah semua chapter selesai
%% \bibliography{references}
%% \bibliographystyle{ieeetr}